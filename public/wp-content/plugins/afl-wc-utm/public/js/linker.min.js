/* AFL UTM Tracker v2.23.4 | Linker | 20250815000 | Copyright 2020-2025 Appfromlab Pte Ltd | @preserve */
!function(){function i(t){return y.hasOwnProperty(t)?u(y[t]):null}function _(t){var e=null;return e=y.config.hasOwnProperty(t)?u(y.config[t]):e}function t(t,e){y.config.hasOwnProperty(t)&&(y.config[t]=e)}function e(t){var e=u(t);"object"==typeof e&&null!==e&&Object.getOwnPropertyNames(e).forEach(function(t){y.config.hasOwnProperty(t)&&(y.config[t]=e[t])})}function o(t,e){t=String(t),y.flags[t]=!!e}function r(t){var e=!1;return e=void 0!==y.flags[t]?y.flags[t]:e}function n(t){"string"==typeof t&&(y.current_event=t,"string"!=typeof(t=t)||function(t){for(var e=!1,r=0;r<y.saved_events.length;r++)if(y.saved_events[r]===t){e=!0;break}return e}(t)||y.saved_events.push(t))}function u(t){var e;return e=t,"[object Object]"===Object.prototype.toString.call(e)&&null!==e&&"function"==typeof Object.assign?Object.assign({},t):t}function f(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)}function a(){r("init")||(!function(){if(r("register_events"))return;o("register_events",!0),document.addEventListener("afl_wc_utm_event_run",function(t){n(t.name),o("utm_ready",!0),r("process_links")&&s()})}(),function(){var t=_("url_list");if(!Array.isArray(t)||0===t.length)return;t.forEach(function(t){h(t)})}(),""===_("target_elements")&&t("target_elements",document.getElementsByTagName("a")),o("init",!0))}function c(){r("init")||a(),function t(e,r){l()?e():0<r?setTimeout(function(){t(e,r-1)},_("timeut_delay")):(m(),e())}(function(){s()},_("timeout_retries")),o("run",!0)}function s(){if(l()){if(AFLUTMTracker.has_consent()){var e=_("merge_tag_url_suffix"),r=_("merge_tag_override_param"),n=_("target_elements");if(f(n)&&"length"in n)for(let t=0;t<n.length;t++){var u,i=n[t],a="";"function"==typeof i.hasAttribute&&(i.hasAttribute("data-afl_utm_href")?a=i.getAttribute("data-afl_utm_href"):i.hasAttribute("href")&&(a=i.getAttribute("href"))),v(a)&&(u={url_suffix:e,override_param:r},u=window.AFLUTMTracker.merge_tag.replace_url(a,u),!1===i.hasAttribute("data-afl_utm_href")&&i.setAttribute("data-afl_utm_href",a),i.setAttribute("href",u))}}else!function(){if(!1===_("merge_tag_optout"))return;var e=_("merge_tag_optout_suffix"),r=_("merge_tag_override_param"),n=_("target_elements");if(f(n)&&"length"in n)for(let t=0;t<n.length;t++){var u,i,a=n[t],o="";"function"==typeof a.hasAttribute&&(a.hasAttribute("data-afl_utm_href")?o=a.getAttribute("data-afl_utm_href"):a.hasAttribute("href")&&(o=a.getAttribute("href"))),v(o)&&(u=o,"string"==typeof e&&""!==e&&(i={url_suffix:e,override_param:r},u=window.AFLUTMTracker.merge_tag.replace_url(o,i)),!1===a.hasAttribute("data-afl_utm_href")&&a.setAttribute("data-afl_utm_href",o),a.setAttribute("href",u))}}();o("process_links",!0)}}function l(){return!!g()&&(window.AFLUTMTracker.helper.get_flag("run")&&o("utm_ready",!0),!!r("utm_ready"))}function g(){return"AFLUTMTracker"in window}function m(){if(!g())return!1;AFLUTMTracker.helper.get_flag("run")&&o("utm_ready",!0)}function d(){return"object"==typeof window.afl_wc_utm_linker_config&&null!==window.afl_wc_utm_linker_config?u(afl_wc_utm_linker_config):{}}function h(t){try{var e=p(t);return v(e)?!1:(y.registered_url_list.push(e),!0)}catch(t){}return!1}function p(t){var e="";try{t=t.match(/^https?:\/\//i)?t:"https://"+t;e=new URL(t).hostname}catch(t){}return e}function v(t){var e=!1,r=i("registered_url_list"),n=p(t);if(Array.isArray(r))for(var u=0;u<r.length;u++)if(r[u]===n){e=!0;break}return e}var y;function A(){window.AFLUTMTrackerLinker.autorun()}void 0===window.AFLUTMTrackerLinker&&(window.AFLUTMTrackerLinker=(y={config:{autorun:!0,timeout_retries:100,timeut_delay:100,url_list:[],target_elements:"",merge_tag_url_suffix:"utm_source={afl_utm_js:utm_source}&utm_medium={afl_utm_js:utm_medium}&utm_campaign={afl_utm_js:utm_campaign}&utm_term={afl_utm_js:utm_term}&utm_content={afl_utm_js:utm_content}",merge_tag_override_param:!1,merge_tag_optout:!0,merge_tag_optout_suffix:""},flags:{autorun:!1,init:!1,run:!1,register_events:!1,utm_ready:!1,process_links:!1},current_event:"",saved_events:[],registered_url_list:[]},{name:"AFLUTMTrackerLinker",version:20250815e3,autorun:function(){return!(r("autorun")||(e(d()),!_("autorun")))&&(c(),o("autorun",!0),!0)},run:c,register_url:h,helper:{get_data:i,get_config:_,get_config_all:function(){return u(y.config)},set_config:t,map_config:e,get_user_config:d}}),"complete"===document.readyState?A():document.addEventListener("DOMContentLoaded",A))}();