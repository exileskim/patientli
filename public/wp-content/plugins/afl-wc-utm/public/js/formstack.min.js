/* AFL UTM Tracker v2.23.0 | Formstack | 20250731000 | Copyright 2020-2025 Appfromlab Pte Ltd | @preserve */
!function(){function f(t){var e=null;return e=_.config.hasOwnProperty(t)?r(_.config[t]):e}function t(t){var e=r(t);"object"==typeof e&&null!==e&&Object.getOwnPropertyNames(e).forEach(function(t){_.config.hasOwnProperty(t)&&(_.config[t]=e[t])})}function s(t,e){t=String(t),_.flags[t]=!0===e||1===e}function e(t){var e=!1;return e=void 0!==_.flags[t]?!0===_.flags[t]||1===_.flags[t]:e}function n(t){"string"==typeof t&&(_.current_event=t,"string"!=typeof(t=t)||function(t){for(var e=!1,n=0;n<_.saved_events.length;n++)if(_.saved_events[n]===t){e=!0;break}return e}(t)||_.saved_events.push(t))}function r(t){var e;return e=t,"[object Object]"===Object.prototype.toString.call(e)&&null!==e&&"function"==typeof Object.assign?Object.assign({},t):t}function g(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)}function u(){return function(){if("AFLUTMTracker"in window&&"fsApi"in window)return 1;return}()&&!(!e("utm_ready")&&!window.AFLUTMTracker.helper.get_flag("run")||!function(){var t=document.getElementsByClassName(f("form_css_class")),e=null;g(t)&&0<t.length&&(e=t[0].getAttribute("data-formid"));return null!==e&&""!==e}())}function o(){e("init")||(!function(){if(e("register_events"))return;s("register_events",!0),document.addEventListener("afl_wc_utm_event_run",function(t){n(t.name),s("utm_ready",!0),e("process_forms")&&i()})}(),s("init",!0))}function a(){e("init")||o(),function t(e,n){u()?e():0<n&&setTimeout(function(){t(e,n-1)},f("timeut_delay"))}(function(){i()},f("timeout_retries")),s("run",!0)}function i(){if(u()){if(window.AFLUTMTracker.has_consent()){var t=document.getElementsByClassName(f("form_css_class"));if(g(t)&&0<t.length)for(var e=0;e<t.length;e++){var n=t[e].getAttribute("data-formid"),r=window.fsApi().getForm(n).getFields();if(0<r.length)for(var o=0;o<r.length;o++){var a=r[o],i=a.getTypeAttribute("data-afl_utm_js");void 0===i&&(i=a.getValue().value),window.AFLUTMTracker.merge_tag.is_tag(i)&&(a.setTypeAttribute("data-afl_utm_js",i),i=window.AFLUTMTracker.merge_tag.replace(i),a.setValue({value:i.toString()}))}}f("merge_tag_optout")||window.AFLUTMTracker.helper.set_config("merge_tag_optout","0"),s("optin",!0)}else!function(){if(!f("merge_tag_optout")&&window.AFLUTMTracker.helper.get_flag("merge_tag_optin_before"))return;var t=document.getElementsByClassName(f("form_css_class"));if(g(t)&&0<t.length){for(var e=f("merge_tag_optout_use_default"),n=f("merge_tag_optout_value"),r=0;r<t.length;r++){var o=t[r].getAttribute("data-formid"),a=window.fsApi().getForm(o).getFields();if(0<a.length)for(var i=0;i<a.length;i++){var u=a[i],c=u.getTypeAttribute("data-afl_utm_js");void 0===c&&(c=u.getValue().value),window.AFLUTMTracker.merge_tag.is_tag(c)&&(u.setTypeAttribute("data-afl_utm_js",c),u="",e&&window.AFLUTMTracker.merge_tag.tag_has_default(c)&&(""!==(c=window.AFLUTMTracker.merge_tag.replace(c))&&(u=c)),""===u&&"string"==typeof n&&(u=n),a[i].setValue({value:u}))}}s("optout",!0)}}();s("process_forms",!0)}}function c(){return"object"==typeof window.afl_wc_utm_formstack_config&&null!==window.afl_wc_utm_formstack_config?r(afl_wc_utm_formstack_config):{}}var _;function l(){window.AFLUTMTrackerFormstack.autorun()}void 0===window.AFLUTMTrackerFormstack&&(window.AFLUTMTrackerFormstack=(_={config:{autorun:!0,timeout_retries:100,timeut_delay:100,merge_tag_optout:!0,merge_tag_optout_use_default:!1,merge_tag_optout_value:"",form_css_class:"fsform-container"},flags:{autorun:!1,run:!1,utm_ready:!1,form_ready:!1,process_forms:!1,optin:!1,optout:!1},current_event:"",saved_events:[]},{name:"AFLUTMTrackerFormstack",version:20250731e3,autorun:function(){return!(e("autorun")||(t(c()),!f("autorun")))&&(a(),s("autorun",!0),!0)},run:a,helper:{get_data:function(t){return _.hasOwnProperty(t)?r(_[t]):null},get_config:f,get_config_all:function(){return r(_.config)},set_config:function(t,e){_.config.hasOwnProperty(t)&&(_.config[t]=e)},map_config:t,get_user_config:c}}),"complete"===document.readyState?l():document.addEventListener("DOMContentLoaded",l))}();