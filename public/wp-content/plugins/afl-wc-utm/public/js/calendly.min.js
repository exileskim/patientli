/* AFL UTM Tracker v2.22.0 | 20250731000 | Copyright 2020-2025 Appfromlab Pte Ltd | @preserve */
!function(){function t(){l("enable_listener_optin")&&document.addEventListener("afl_wc_utm_event_optin",function(t){e(t)}),l("enable_listener_optout")&&document.addEventListener("afl_wc_utm_event_optout",function(t){e(t)}),l("enable_listener_load")&&window.addEventListener("load",function(t){e(t)})}function e(t){f(t.type),s()&&(p()&&(l("widget_inline_auto")&&n(),l("widget_badge_auto")&&i(),c("calendly_init",!0)),l("widget_button_auto")&&u())}function n(){for(var t=document.getElementsByClassName(l("widget_inline_css_class_name")),e=0;e<t.length;e++){var n=t[e].getAttribute("id"),n=document.getElementById(n),i=n.getAttribute("data-attribution_model");r({url:n.getAttribute("data-url"),parentElement:n,utm:T(i)})}}function r(t,e){t=E(t);h(t=v(t,e))&&(b(t.parentElement.getAttribute("id"),t,e),t.parentElement&&(t.parentElement.innerHTML=""),Calendly.initInlineWidget(E(t)))}function i(){a(v(l("widget_badge_args"),l("widget_badge_attribution_model")))}function a(t,e){h(t=v(E(t),e))&&Calendly.initBadgeWidget(E(t))}function u(){if(g("auto_init_button_widget"))return!1;for(var t=document.getElementsByClassName(l("widget_button_css_class_name")),e=0;e<t.length;e++)t[e].addEventListener("click",o);c("auto_init_button_widget",!0)}function o(t){t.preventDefault();var t=t.currentTarget,e=t.getAttribute("data-url"),t=t.getAttribute("data-attribution_model");_({url:e,utm:T(t=null===t?l("widget_button_attribution_model"):t)})}function _(t,e){h(t=v(E(t),e))&&Calendly.initPopupWidget(E(t))}function l(t){var e=null;return e=k.config.hasOwnProperty(t)?E(k.config[t]):e}function d(t){var e=E(t);"object"==typeof e&&null!==e&&Object.getOwnPropertyNames(e).forEach(function(t){k.config.hasOwnProperty(t)&&(k.config[t]=e[t])})}function c(t,e){t=String(t),k.flags[t]=!0===e||1===e||"1"===e}function g(t){var e=!1;return e=void 0!==k.flags[t]?!0===k.flags[t]||1===k.flags[t]||"1"===k.flags[t]:e}function s(){return"Calendly"in window}function f(t){"string"==typeof t&&(k.current_event=t,"string"!=typeof(t=t)||w(t)||k.saved_events.push(t))}function m(){return k.current_event}function w(t){for(var e=!1,n=0;n<k.saved_events.length;n++)if(k.saved_events[n]===t){e=!0;break}return e}function b(t,e,n){e=E(e);return"string"==typeof t&&!1===y(t)&&(k.registered_widget_inline.push({element_id:t,calendly_args:e,attribution_model:n}),!0)}function y(t){for(var e=!1,n=0;n<k.registered_widget_inline.length;n++)if(k.registered_widget_inline[n].element_id===t){e=!0;break}return e}function p(){var t=!1,e=m(),n=g("calendly_init"),i="AFLUTMTracker"in window&&E(window.AFLUTMTracker.helper.get_flag("consent_changed")),r=w("afl_wc_utm_event_optin"),a=w("afl_wc_utm_event_optout");return n?"load"===e?(r||a)&&(t=!1):i&&(t=!0):t=!0,t}function v(t,e){t=E(t);return(t=null==t?{}:t).hasOwnProperty("utm")||(t.utm=T(e)),t}function h(t){var t=E(t),e=!1;return e="object"==typeof t&&null!==t&&t.hasOwnProperty("url")&&"string"==typeof t.url&&0<t.url.length?!0:e}function T(t){("string"!=typeof t||"last"!==t&&"first"!==t)&&(t=l("attribution_model"));var e={};return L(e="AFLUTMTracker"in window?E(window.AFLUTMTracker.attribution.get_by_key("utm_"+t+"_touch")):e)}function L(t){var n=E(t),i={},r={utmSource:"utm_source",utmMedium:"utm_medium",utmCampaign:"utm_campaign",utmTerm:"utm_term",utmContent:"utm_content"};return"object"==typeof n&&null!==n&&Object.keys(r).forEach(function(t){var e=r[t];i[t]=n.hasOwnProperty(e)?n[e]:""}),i}function E(t){return"object"==typeof t&&null!==t?Object.assign({},t):t}var k;function A(){window.AFLUTMTrackerCalendly.autorun()}void 0===window.AFLUTMTrackerCalendly&&(window.AFLUTMTrackerCalendly=(k={config:{autorun:!0,attribution_model:"last",enable_listener_optin:!0,enable_listener_optout:!0,enable_listener_load:!0,widget_inline_auto:!0,widget_inline_css_class_name:"calendly-inline-widget",widget_badge_auto:!1,widget_badge_attribution_model:"last",widget_badge_args:{},widget_button_auto:!1,widget_button_attribution_model:"last",widget_button_css_class_name:"afl-calendly-button"},flags:{autorun:!1,calendly_init:!1,auto_init_button_widget:!1},current_event:"",saved_events:[],registered_widget_inline:[]},{name:"AFLUTMTrackerCalendly",version:20250731e3,autorun:function(){"object"==typeof afl_wc_utm_calendly_config&&null!==afl_wc_utm_calendly_config&&d(afl_wc_utm_calendly_config);if(g("autorun"))return!1;l("autorun")&&t();return c("autorun",!0),!0},run:t,auto_init_inline_widget:n,auto_init_badge_widget:i,auto_init_button_widget:u,init_inline_widget:r,init_badge_widget:a,init_popup_widget:_,helper:{get_data:function(t){return k.hasOwnProperty(t)?E(k[t]):null},get_config:l,get_config_all:function(){return E(k.config)},map_config:d,set_flag:c,get_flag:g,set_current_event:f,get_current_event:m,is_calendly_ready:s,should_calendly_init:p,format_calendly_args:v,check_calendly_args:h,transform_utm:L,register_inline_widget:b,has_inline_widget:y}}),"complete"===document.readyState?A():document.addEventListener&&document.addEventListener("DOMContentLoaded",A))}();